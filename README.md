### 前提
在日常开发部署中，经常会把无状态应用使用容器的形式进行部署，当然也这是一种趋势，特别是随着k8s平台的推广，容器的影子更是随处可见。而容器是通过镜像来创建的，这时在整个系统的部署流程中镜像的制作就成了一个不可缺少的环节。另外需要注意的是容器的创建速度很快，但镜像的制作周期则要长的多了。  
平时自己学习的话，可能直接在本地构建一个镜像，然后再上传到hub.docker.com就可以了，用的时候在服务器上拉取一下即可。而如果应用比较多的话，况且几十人都这样操作的话，就太浪费时间了，这种办法肯定不合适了，这个时候就需要引入专业的CI集成工具了。  
目前市面上见的解决方案一般有两种，一种是自行搭建镜像平台，如vmware开源的[harbor](https://github.com/goharbor/harbor), 特点是安全，方便，就是需要一些开支；另一种就是使用免费的服务，如[hub.docker.com](https://hub.docker.com/repositories)和 [aliyun](https://cr.console.aliyun.com/)提供的镜像服务，特点就是方便，特别是个人或者中小企业来说，已经满足了大部分的需求。

本仓库是基于aliyun镜像来完成的一个示例。如果要在k8s中部署的话，则需要考虑到私有镜像登录的情况。

### 使用说明
1. 阿里云镜像仓库需要与github进行授权打通，以方便直接从github账号摘取仓库
2. 构建规则有分两种，一种是根据标签来构建，另一种是根据分支名称来构建，每个仓库都有一个默认规则, 是以标签这种形式体现的，当发现标签为 “tags:release-v$version” 格式时，aliyun将自动查找仓库中Dockerfile文件，如果找到此文件，则执行构建镜像操作。如果以分支形式判断的话，则需要指定分支名称，每次这个分支有git push时就立即构建
3. 在拉取镜像时，需要登录aliyun的账号，输入的密码需要单独设置，这个密码和默认的登录 aliyun 密码不一样。在左侧菜单“容器镜像服务”里找到“访问凭证”即可设置，支持固定密码与临时密码。